doctype html
html
    head
        script(src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js")
        script(src="https://cdn.socket.io/socket.io-1.2.0.js")
        style
            include ../public/css/style.css
    body
        div(ng-app="playerViewApp" ng-controller="playerViewCtrl")
            span#username(ng-bind="username.name")
            #userlist
                div(ng-repeat="user in userlist")
                    span(ng-click="promptChallenge(user)") {{user}}
            form#nameChange(ng-submit="changeName()")
                input(type="text" ng-model="newName")
                button(type="submit") Change Name
            form#challenge(ng-submit="submitChallenge()" ng-hide="!isChallenging")
                span  Challenge {{challengedUser}}?
                button(type="submit") Challenge
                button(ng-click="cancelChallenge()") Cancel
            form#accept(ng-submit="acceptChallenge()" ng-hide="!isChallenged")
                span {{challengingUser}} wants to battle!
                button(type="submit") Accept
                button(type="reset" ng-click="rejectChallenge()") Reject
            form#teambuilder(ng-submit="changeTeam()")
                .unit(ng-repeat="unit in units")
                    span {{unit.name}}
                    select(ng-model="unit.primaryType")
                        option(ng-repeat="type in types") {{type}}
                    select(ng-model="unit.secondaryType")
                        option(ng-repeat="type in types") {{type}}
                button(type="submit") Update Team
            script
                include ../public/javascript/playerView.js